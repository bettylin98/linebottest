<!DOCTYPE html>
<html lang="zh-tw">
<head>
  <meta charset="UTF-8">
  <title>預約表單</title>
  <link rel="stylesheet" href="./style.css">
  <script src="https://static.line-scdn.net/liff/edge/2.1/sdk.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.0.0/jquery.min.js"></script>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
</head>
<body>
<!-- ... 其他 HTML 代码 ... -->
<script>
  var myLiffId = "2002173081-wgDRr6xy";

  function initializeLiff(myLiffId) {
    liff.init({
      liffid: myLiffId
    }).then(() => {
      var isInClient = liff.isInClient();
      console.log('isInClient', isInClient);
      $('#isInClient').val(isInClient);
    }).catch((err) => {
      console.log("初始化失敗")
    });
  }

  function reserve(name, tel, datepicker, time, sitem) {
    if (name == '' || tel == '' || datepicker == '' || time == '' || sitem == '') {
      alert('這些欄位都是要填寫！');
      return;
    }

    var msg = "###";
    msg = msg + name + "/";
    msg = msg + tel + "/";
    liff.sendMessages([
      {
        type: 'text',
        text: msg
      }
    ]).then(function () {
      window.alert("預定成功！");
      liff.closeWindow();
    }).catch(function (error) {
      window.alert("Error sending message: " + error);
    });
  }

  $(document).ready(function () {
    initializeLiff("2002173081-wgDRr6xy");

    $('#btn_reserve').click(function (e) {
      reserve($('#name').val(), $('#tel').val(), $('#datepicker').val(), $('#time').val(), $('#sitem').val(), $('#bio').val());
    });
  });
</script>
</body>
</html>